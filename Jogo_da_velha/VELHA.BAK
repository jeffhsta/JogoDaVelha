#define ESC 27
#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#include <string.h>

main()
{
  int a,b,c,d,e,f,g,h,i;
  char x,y,k;
  clrscr();
  a=0;
  b=0;
  c=0;
  d=0;
  e=0;
  f=0;
  g=0;
  h=0;
  i=0;
  while(x!=27 || y!=27)
  {
  gotoxy(3,5);
  printf("Í");
  gotoxy(3,9);
  printf("Í");
  gotoxy(4,5);
  printf("Í");
  gotoxy(4,9);
  printf("Í");
  gotoxy(5,5);
  printf("Í");
  gotoxy(5,9);
  printf("Í");
  gotoxy(6,2);
  printf("º");
  gotoxy(6,3);
  printf("º");
  gotoxy(6,4);
  printf("º");
  gotoxy(6,5);
  printf("Î");
  gotoxy(6,6);
  printf("º");
  gotoxy(6,7);
  printf("º");
  gotoxy(6,8);
  printf("º");
  gotoxy(6,9);
  printf("Î");
  gotoxy(6,10);
  printf("º");
  gotoxy(6,11);
  printf("º");
  gotoxy(6,12);
  printf("º");
  gotoxy(7,5);
  printf("Í");
  gotoxy(7,9);
  printf("Í");
  gotoxy(8,5);
  printf("Í");
  gotoxy(8,9);
  printf("Í");
  gotoxy(9,5);
  printf("Í");
  gotoxy(9,9);
  printf("Í");
  gotoxy(10,2);
  printf("º");
  gotoxy(10,3);
  printf("º");
  gotoxy(10,4);
  printf("º");
  gotoxy(10,5);
  printf("Î");
  gotoxy(10,6);
  printf("º");
  gotoxy(10,7);
  printf("º");
  gotoxy(10,8);
  printf("º");
  gotoxy(10,9);
  printf("Î");
  gotoxy(10,10);
  printf("º");
  gotoxy(10,11);
  printf("º");
  gotoxy(10,12);
  printf("º");
  gotoxy(11,5);
  printf("Í");
  gotoxy(11,9);
  printf("Í");
  gotoxy(12,5);
  printf("Í");
  gotoxy(12,9);
  printf("Í");
  gotoxy(13,5);
  printf("Í");
  gotoxy(13,9);
  printf("Í");
  if(a==0)
  {
  gotoxy(4,3);
  printf("A");
  }
  else
  {
  }
  if(b==0)
  {
  gotoxy(8,3);
  printf("B");
  }
  else
  {
  }
  if(c==0)
  {
  gotoxy(12,3);
  printf("C");
  }
  else
  {
  }
  if(d==0)
  {
  gotoxy(4,7);
  printf("D");
  }
  else
  {
  }
  if(e==0)
  {
  gotoxy(8,7);
  printf("E");
  }
  else
  {
  }
  if(f==0)
  {
  gotoxy(12,7);
  printf("F");
  }
  else
  {
  }
  if(g==0)
  {
  gotoxy(4,11);
  printf("G");
  }
  else
  {
  }
  if(h==0)
  {
  gotoxy(8,11);
  printf("H");
  }
  else
  {
  }
  if(i==0)
  {
   gotoxy(12,11);
   printf("I");
   }
   else
   {
   }
    if(a==1)
  {
  gotoxy(4,3);
  printf("X");
  }
  else
  {
  }
  if(b==1)
  {
  gotoxy(8,3);
  printf("X");
  }
  else
  {
  }
  if(c==1)
  {
  gotoxy(12,3);
  printf("X");
  }
  else
  {
  }
  if(d==1)
  {
  gotoxy(4,7);
  printf("X");
  }
  else
  {
  }
  if(e==1)
  {
  gotoxy(8,7);
  printf("X");
  }
  else
  {
  }
  if(f==1)
  {
  gotoxy(12,7);
  printf("X");
  }
  else
  {
  }
  if(g==1)
  {
  gotoxy(4,11);
  printf("X");
  }
  else
  {
  }
  if(h==1)
  {
  gotoxy(8,11);
  printf("X");
  }
  else
  {
  }
    if(i==1)
  {
   gotoxy(12,11);
   printf("X");
   }
   else
   {
   }
    if(a==2)
  {
  gotoxy(4,3);
  printf("O");
  }
  else
  {
  }
  if(b==2)
  {
  gotoxy(8,3);
  printf("O");
  }
  else
  {
  }
  if(c==2)
  {
  gotoxy(12,3);
  printf("O");
  }
  else
  {
  }
  if(d==2)
  {
  gotoxy(4,7);
  printf("O");
  }
  else
  {
  }
  if(e==2)
  {
  gotoxy(8,7);
  printf("O");
  }
  else
  {
  }
  if(f==2)
  {
  gotoxy(12,7);
  printf("O");
  }
  else
  {
  }
  if(g==2)
  {
  gotoxy(4,11);
  printf("O");
  }
  else
  {
  }
  if(h==2)
  {
  gotoxy(8,11);
  printf("O");
  }
  else
  {
  }
  if(i==2)
  {
  gotoxy(12,11);
  printf("O");
  }
  
  gotoxy(18,3);
  printf("Vez do \"X\" jogar\n");
  gotoxy(18,4);
  printf("Qual posicao deseja marcar? ");
  x=getche();

  if(x=='a' || x=='A')
  {
       if(a==0)
       {
       a=1;
       gotoxy(4,3);
       printf("X");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(x=='b' || x=='B')
  {
       if(b==0)
       {
       b=1;
       gotoxy(8,3);
       printf("X");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(x=='c' || x=='C')
  {
       if(c==0)
       {
       c=1;
       gotoxy(12,3);
       printf("X");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(x=='d' || x=='D')
  {
       if(d==0)
       {
       d=1;
       gotoxy(4,7);
       printf("X");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(x=='e' || x=='E')
  {
       if(e==0)
       {
       e=1;
       gotoxy(8,7);
       printf("X");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(x=='f' || x=='F')
  {
       if(f==0)
       {
       f=1;
       gotoxy(12,7);
       printf("X");
       }
       else
       {
        printf("O lugar esta ocupado!");
        getche();
       }
   }
   else
   {
   }
     if(x=='g' || x=='G')
  {
       if(g==0)
       {
       g=1;
       gotoxy(4,11);
       printf("X");
       }
       else
       {
       printf("O lugar esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(x=='h' || x=='H')
  {
       if(h==0)
       {
       h=1;
       gotoxy(8,11);
       printf("X");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(x=='i' || x=='I')
  {
       if(i==0)
       {
       i=1;
       gotoxy(12,11);
       printf("X");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
   if(a==1 && b==1 && c==1 || a==1 && e==1 && i==1 || a==1 && d==1 && g==1 || b==1 && e==1 && h==1 || c==1 && f==1 && i==1 || c==1 && e==1 && g==1 || d==1 && e==1 && f==1 || g==1 && h==1 && i==1)
   {
       clrscr();
       gotoxy(10,5);
       printf("O \"X\" eh o vencedor!!!");
       getche();
       break;
   }
if(a!=0 && b!=0 && c!=0 && d!=0 && e!=0 && f!=0 && g!=0 && h!=0 && i!=0)
   {
    clrscr();
    gotoxy(10,5);
    printf("Empate!!!");
    getche();
    break;
   }
   else
   {
   }

  gotoxy(18,5);
  printf("Vez do \"O\" jogar\n");
  gotoxy(18,6);
  printf("Qual posicao deseja marcar? ");
  y=getche();

  if(y=='a' || y=='A')
  {
       if(a==0)
       {
       a=2;
       gotoxy(4,3);
       printf("O");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(y=='b' || y=='B')
  {
       if(b==0)
       {
       b=2;
       gotoxy(8,3);
       printf("O");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(y=='c' || y=='C')
  {
       if(c==0)
       {
       c=2;
       gotoxy(12,3);
       printf("O");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(y=='d' || y=='D')
  {
       if(d==0)
       {
       d=2;
       gotoxy(4,7);
       printf("O");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(y=='e' || y=='E')
  {
       if(e==0)
       {
       e=2;
       gotoxy(8,7);
       printf("O");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(y=='f' || y=='F')
  {
       if(f==0)
       {
       f=2;
       gotoxy(12,7);
       printf("O");
       }
       else
       {
       printf("O lugar ja esta acupado!");
       getche();
       }
   }
   else
   {
   }
     if(y=='g' || y=='G')
  {
       if(g==0)
       {
       g=2;
       gotoxy(4,11);
       printf("O");
       }
       else
       {
       printf("O lugar ja esta ocupado!");
       getche();
       }
   }
   else
   {
   }
     if(y=='h' || y=='H')
  {
       if(h==0)
       {
       h=2;
       gotoxy(8,11);
       printf("O");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }
     if(y=='i' || y=='I')
  {
       if(i==0)
       {
       i=2;
       gotoxy(12,11);
       printf("O");
       }
       else
       {
	   printf("O lugar ja esta ocupado!");
	   getche();
       }
   }
   else
   {
   }

   clrscr();
   if(a==2 && b==2 && c==2 || a==2 && e==2 && i==2 || a==2 && d==2 && g==2 || b==2 && e==2 && h==2 || c==2 && f==2 && i==2 || c==2 && e==2 && g==2 || d==2 && e==2 && f==2 || g==2 && h==2 && i==2)
   {
       gotoxy(10,5);
       printf("O \"O\" eh o vencedor!!!");
       getche();
       break;
    }
    if(a!=0 && b!=0 && c!=0 && d!=0 && e!=0 && f!=0 && g!=0 && h!=0 && i!=0)
   {
    clrscr();
    gotoxy(10,5);
    printf("Empate!!!");
    getche();
    break;
   }
   else
   {
   }
  }
  gotoxy(10,8);
  printf("Deseja jogar novamente [S/N]? ");
  k=getche();
  if(k=='s')
  {
  main();
  }
  else
  {
  }
  return 0;
}
